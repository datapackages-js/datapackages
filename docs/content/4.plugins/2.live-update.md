---
title: Live Update Plugin
description: Keep your datasets in sync with remote sources using periodic polling.
---

# Live Update

The `@datapackages/plugin-live-update` middleware keeps your dataset in sync with a remote source by periodically polling for changes.

## Interaction Flow

::mermaid
<pre>
sequenceDiagram
    participant DS as Dataset
    participant Plugin as withLiveUpdate
    participant Remote as HTTP Source

    DS->>Plugin: onInit()
    loop Every [interval]ms
        Plugin->>Remote: fetch(url)
        alt Data Changed
            Remote-->>Plugin: return New Data
            Plugin->>DS: refresh()
            Note over DS: resetData() & init()
        else No Change
            Remote-->>Plugin: 304 Not Modified
        end
    end

    DS->>Plugin: dispose()
    Note over Plugin: stopPolling()
</pre>
::

## Installation

```bash
npm install @datapackages/plugin-live-update
```

## Usage

```typescript
import { withLiveUpdate } from "@datapackages/plugin-live-update";

await dataset.use(withLiveUpdate({
  interval: 5000, // Poll every 5 seconds
  enabled: true
}));
```

## How it Works

The plugin uses the `ETag` header (if available) or simply re-fetches the data to detect changes. If new data is found, the dataset is updated in-place, and any listeners (like React hooks) are notified.

## Options

| Option     | Type      | Default | Description                       |
| :--------- | :-------- | :------ | :-------------------------------- |
| `interval` | `number`  | `30000` | Polling interval in milliseconds. |
| `enabled`  | `boolean` | `true`  | Whether polling is active.        |
