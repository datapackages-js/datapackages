---
title: CLI Reference
description: Command-line interface documentation for the datapackage tool.
---

# CLI Reference

The `@datapackages/dataset` package provides a CLI tool for managing your data sources and generating types.

## Installation

The CLI is usually available if you have `@datapackages/dataset` as a dependency. You can run it via `npx`:

```bash
npx datapackage <command> [options]
```

## Commands

### `update-source`

Fetches data from remote URIs defined in your `datasets.config.ts`, applies transformations, builds search indices, and generates TypeScript definitions.

```bash
npx datapackage update-source --cwd ./packages/my-package
```

**Options:**

| Flag           | Description                                                     |
| :------------- | :-------------------------------------------------------------- |
| `--cwd <path>` | The directory containing `datasets.config.ts`. Defaults to `.`. |
| `--force`      | Force re-download even if the cache is still valid.             |
| `--verbose`    | Output detailed logs during the process.                        |

---

## Environment Variables

The CLI and your configuration file can access environment variables.

| Variable          | Description                                                      |
| :---------------- | :--------------------------------------------------------------- |
| `DATAPACKAGE_CWD` | Overrides the default working directory for all commands.        |
| `API_KEY`         | (Example) Used in your `datasets.config.ts` for secure fetching. |

## CI/CD Usage (GitHub Actions)

You can automate data updates using a scheduled GitHub Action.

```yaml
name: Update Data Sources
on:
  schedule:
    - cron: '0 0 * * *' # Run daily at midnight
jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm install
      - run: npx datapackage update-source
      - name: Commit changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "chore: update data sources"
```
